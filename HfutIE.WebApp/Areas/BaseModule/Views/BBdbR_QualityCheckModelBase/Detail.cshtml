@{
    ViewBag.Title = "检查模板基本信息表》明细页面";
    Layout = "~/Views/Shared/_LayoutForm.cshtml";
}
<script type="text/javascript">
    $(function () {
        GetGrid2();
    })
    //加载表格--未配置班组的人员
    function GetGrid2() {
        $("#gridTable2").jqGrid({
            url: "@Url.Content("~/BaseModule/QualityCheckModelBase/GridListJson_Up")",
        datatype: "json",
        height: 450,
        autowidth: false,
        width: 890,
        colModel: [
            { label: '物料主键', name: 'MatId', index: 'MatId', width: 0, align: 'left', sortable: true, hidden: true },
            { label: '物料编号', name: 'MatCd', index: 'MatCd', width: 100, align: 'center', sortable: true },
            { label: '物料名称', name: 'MatNm', index: 'MatNm', width: 100, align: 'center', sortable: true },
            { label: '物料类别', name: 'MatCatg', index: 'MatCatg', width: 100, align: 'center', sortable: true },
            { label: '物料类型', name: 'MatTyp', index: 'MatTyp', width: 100, align: 'center', sortable: true },
            { label: '规格型号', name: 'MatSpec', index: 'MatSpec', width: 100, align: 'center', sortable: true },
            //{ label: '单位', name: 'MatSpec', index: 'MatSpec', width: 100, align: 'center', sortable: true },
            { label: '提前期', name: 'LeadTm', index: 'LeadTm', width: 100, align: 'center', sortable: true },
            { label: '良品率', name: 'YieldRate', index: 'YieldRate', width: 120, align: 'center', sortable: true },
        ],
        pager: "#gridPager2",
        sortname: '',
        sortorder: 'desc',
        rownumbers: true,
        shrinkToFit: true,
        gridview: true,
        multiselect: true,
        onSelectRow: function (rowId, status, e) {
            var rowIds = jQuery("#gridTable2").jqGrid('getGridParam', 'selarrrow');
        },
        });
    }

    //保存
    function AcceptClick() {
        var selectedIds = $("#gridTable2").jqGrid("getGridParam", "selarrrow");
        var data = new Array(selectedIds.length)
        for (var i = 0; i < selectedIds.length; i++) {
            data[i] = $("#gridTable2").jqGrid('getRowData', selectedIds[i]);
        }
        //var data = $("#gridTable2").jqGrid('getRowData', selectedIds);
        AjaxJson("/BaseModule/QualityCheckModelBase/submitStaff?KeyValue=" + KeyValue, { data: data }, function (data) {
            tipDialog(data.Message, 3, data.Code);
            top.frames[tabiframeId()].windowload();
            closeDialog();
        });
    }
</script>
<div class="tools_bar" style="margin-top: 1px; margin-bottom: 0px;">
    <a id="lr-replace" class="tools_btn" title="刷新当前(Ctrl+Q)" onclick="windowload()"><span><b style='background: url(@Url.Content("~/Content/Images/Icon16/arrow_refresh.png")) no-repeat 50% 4px;'>刷新</b></span></a>
    <div class="tools_separator"></div>
    <a id="button_Schduling" title="确认" class="tools_btn" onclick="AcceptClick()"><span><b style="background: url(@Url.Content("~/Content/Images/Icon16/accept.png")) 50% 4px no-repeat;">确认</b></span></a>
</div>
@*<div class="layoutPanel layout-center">*@

<div id="grid_List" class="topline">
    @*<div class="topline rightline" style="margin: 1px; margin-top: -1px;">*@
    <div class="btnbartitle">
        <div style="font-size:medium">
            待选择产品
        </div>
    </div>
    <table id="gridTable2"></table>
    <div id="gridPager2"></div>
</div>
